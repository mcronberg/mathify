<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Mathify</title>
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/tailwindcss@2.2.19/dist/tailwind.min.css">
    <link rel="stylesheet" href="css/style.css">
    <link rel="icon" href="icons/favicon.ico" type="image/x-icon">
    <link rel="manifest" href="manifest.json">
    <base href="/mathify/">
    <style>
        @media (min-width: 768px) {

            .selection-button,
            .start-test-button {
                width: 200px;
                height: 50px;
                font-size: 1.25rem;
            }
        }
    </style>
</head>

<body class="flex flex-col min-h-screen">
    <!-- Overlay Backdrop -->
    <div id="menu-overlay" class="fixed inset-0 bg-black bg-opacity-50 z-40 hidden transition-opacity duration-300">
    </div>

    <!-- Header -->
    <header class="bg-gray-800 text-white p-4 sticky top-0 flex justify-between items-center z-50">
        <h1 class="text-xl">Mathify</h1>
        <nav class=" md:flex md:items-center">
            <a href="#" class="px-1 py-1 text-white">Settings</a>
            <a href="#" class="px-1 py-1 text-white">About</a>
        </nav>
    </header>

    <!-- Start Screen -->
    <main id="start-screen" class="flex-grow p-4 flex flex-col items-center justify-center">
        <div class="w-full max-w-4xl relative">
            <h2 class="text-2xl mb-6 text-center">Create Your Test</h2>

            <!-- Grouped Selection Sections -->
            <div class="mb-4 flex flex-col justify-center selection-container">
                <!-- Provider Selection -->
                <div class="w-full sm:w-auto mb-4 sm:mb-0">
                    <h3 class="text-lg mb-2 text-center">Select Operations</h3>
                    <div class="flex flex-col space-y-1"> <!-- Ensure space-y-1 is applied -->
                        <!-- Provider buttons will be dynamically added here -->
                    </div>
                </div>

                <!-- Global Level Selection -->
                <div class="w-full sm:w-auto mb-4 sm:mb-0" id="level-selection"> <!-- Added id="level-selection" -->
                    <h3 class="text-lg mb-2 text-center">Select Level</h3>
                    <div class="flex flex-col space-y-1"> <!-- Ensure space-y-1 is applied -->
                        <button
                            class="level-btn selection-button px-3 py-1 bg-gray-200 rounded hover:bg-gray-300 transition">1</button>
                        <button
                            class="level-btn selection-button px-3 py-1 bg-gray-200 rounded hover:bg-gray-300 transition">2</button>
                        <button
                            class="level-btn selection-button px-3 py-1 bg-gray-200 rounded hover:bg-gray-300 transition">3</button>
                    </div>
                </div>

                <!-- Number of Questions Selection -->
                <div class="w-full sm:w-auto" id="questions-selection"> <!-- Removed class="hidden" -->
                    <h3 class="text-lg mb-2 text-center">Number of Questions</h3>
                    <div class="flex flex-col space-y-1"> <!-- Ensure space-y-1 is applied -->
                        <button
                            class="num-btn selection-button px-3 py-1 bg-gray-200 rounded hover:bg-gray-300 transition">1</button>
                        <button
                            class="num-btn selection-button px-3 py-1 bg-gray-200 rounded hover:bg-gray-300 transition">2</button>
                        <button
                            class="num-btn selection-button px-3 py-1 bg-gray-200 rounded hover:bg-gray-300 transition">5</button>
                        <button
                            class="num-btn selection-button px-3 py-1 bg-gray-200 rounded hover:bg-gray-300 transition">10</button>
                        <button
                            class="num-btn selection-button px-3 py-1 bg-gray-200 rounded hover:bg-gray-300 transition">25</button>
                        <button
                            class="num-btn selection-button px-3 py-1 bg-gray-200 rounded hover:bg-gray-300 transition">50</button>
                    </div>
                </div>
            </div>

            <!-- Start Test Button -->
            <div class="mt-6 text-center">
                <button id="start-test-btn"
                    class="start-test-button px-4 py-2 bg-blue-500 text-white rounded hover:bg-blue-600 transition"
                    disabled>Start
                    Test</button>
            </div>
        </div>
    </main>

    <!-- Existing Question Screen -->
    <main id="question-screen" class="flex-grow p-4 flex items-center justify-center hidden">
        <div id="question-container" class="w-full max-w-md bg-white p-6 relative">
            <div class="content-wrapper">
                <h2 id="question-prompt" class="text-xl mb-4">Loading question...</h2>
                <div id="options-container" class="flex flex-col space-y-1"> <!-- Changed space-y-2 to space-y-1 -->
                    <!-- Options will be dynamically inserted here -->
                </div>
            </div>
            <div id="animation-container">
                <!-- Animation messages -->
            </div>
        </div>
    </main>

    <!-- Footer -->
    <footer class="bg-gray-800 text-white p-4 sticky bottom-0 flex justify-center">
        <!-- Slogan visible on Start Screen -->
        <div id="footer-slogan" class="block">
            Mathify - Your way to mastering math!
        </div>
        <!-- "End Test" button visible on Question Screen -->
        <button id="end-test-btn" class="hidden px-4 py-2 bg-red-500 text-white rounded hover:bg-red-600 transition">End
            Test</button>
    </footer>

    <script type="module" src="script/app.js"></script>
    <script>
        if ('serviceWorker' in navigator) {
            window.addEventListener('load', () => {
                navigator.serviceWorker.register('./service-worker.js').then(registration => {
                    console.log('ServiceWorker registration successful with scope: ', registration.scope);
                }, err => {
                    console.log('ServiceWorker registration failed: ', err);
                });
            });
        }
    </script>
</body>

</html>